class Idler{constructor({assure_b:t=!1,timer_n:i=0}={}){this.timer_n=i,this.assure_b=t,this.queue_a=[],this.running_b=!1,this.run__v=this.run__v.bind(this),this.visibility__v=this.visibility__v.bind(this),this.assure_b&&addEventListener("visibilitychange",this.visibility__v,!0)}add__v(t,i="LILO"){let e=this.queue_a.length;if("LIFO"===i){let t=e+1;for(;--t;)this.queue_a[t]=this.queue_a[t-1];e=0}const s={time:performance.now(),visibilityState:document.visibilityState};this.queue_a[e]={state_o:s,task_f:t},this.schedule__v()}schedule__v(){this.assure_b&&"hidden"===document.visibilityState?Promise.resolve().then(this.run__v):this.handle_n||(this.handle_n=requestIdleCallback(this.run__v))}run__v(t){if(this.cancel__v(),!this.running_b){for(this.running_b=!0;this.queue_a.length>0&&t&&t.timeRemaining()<=this.timer_n;){const{task_f:t,state_o:i}=this.queue_a.shift();this.state_o=i,t(i),this.state_o=null}this.running_b=!1,this.queue_a.length>0&&this.schedule__v()}}visibility__v(){"hidden"===document.visibilityState&&this.run__v()}state__o(){return this.state_o}cancel__v(){cancelIdleCallback(this.handle_n),this.handle_n=0}stop__v(){this.queue_a=[],this.cancel__v()}destroy__v(){this.queue_a=[],this.cancel__v(),this.assure_b&&removeEventListener("visibilitychange",this.visibility__v,!0)}}class IdlerVal{value_;constructor(t){this.init_f=t,this.handle_n=requestIdleCallback(()=>this.value_=this.init_f())}get__(){return void 0===this.value_&&(this.cancel__v(),this.value_=this.init_f()),this.value_}set__v(t){this.cancel__v(),this.value_=t}cancel__v(){this.handle_n&&(cancelIdleCallback(this.handle_n),this.handle_n=null)}}document.querySelector('[data--="article"]').addEventListener("click",NOTE_o.text__v);